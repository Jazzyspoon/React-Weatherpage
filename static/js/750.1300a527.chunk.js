"use strict";(self.webpackChunkweatherpage=self.webpackChunkweatherpage||[]).push([[750],{750:function(e,n,t){t.r(n),t.d(n,{default:function(){return u}});var a=t(212),c=t(848),r=t(296),s=t(43),o=t(579),u=function(e){var n=e.onLocationSelect,t=e.className,u=void 0===t?"":t,i=(0,s.useState)(""),l=(0,r.A)(i,2),d=l[0],m=l[1],f=(0,s.useState)([]),p=(0,r.A)(f,2),h=p[0],v=p[1],g=(0,s.useState)(!1),N=(0,r.A)(g,2),j=N[0],x=N[1],b=(0,s.useState)(!1),w=(0,r.A)(b,2),k=w[0],y=w[1],A=(0,s.useRef)(null),S=(0,s.useRef)(null),C="777e115b0093ba596689cbd5bd7ed1d6",E=function(){var e=(0,c.A)((0,a.A)().m(function e(n){var t,c,r,s;return(0,a.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n.trim()){e.n=1;break}return v([]),e.a(2);case 1:return x(!0),e.p=2,e.n=3,fetch("https://api.openweathermap.org/geo/1.0/direct?q=".concat(encodeURIComponent(n),"&limit=5&appid=").concat(C));case 3:if(!(t=e.v).ok){e.n=5;break}return e.n=4,t.json();case 4:c=e.v,r=c.map(function(e){return{name:e.name,state:e.state,country:e.country,lat:e.lat,lon:e.lon,displayName:"".concat(e.name).concat(e.state?", ".concat(e.state):"",", ").concat(e.country)}}),v(r),y(!0),e.n=6;break;case 5:v([]);case 6:e.n=8;break;case 7:e.p=7,s=e.v,console.error("Error searching locations:",s),v([]);case 8:return e.p=8,x(!1),e.f(8);case 9:return e.a(2)}},e,null,[[2,7,8,9]])}));return function(n){return e.apply(this,arguments)}}(),T=function(e){m(e.displayName),v([]),y(!1),n({latitude:e.lat,longitude:e.lon,township:e.displayName})};return(0,s.useEffect)(function(){var e=function(e){A.current&&!A.current.contains(e.target)&&y(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e),S.current&&clearTimeout(S.current)}},[]),(0,o.jsxs)("div",{className:"location-search ".concat(u),ref:A,children:[(0,o.jsx)("form",{onSubmit:function(e){e.preventDefault(),h.length>0&&T(h[0])},className:"search-form",children:(0,o.jsxs)("div",{className:"search-input-container",children:[(0,o.jsx)("input",{type:"text",value:d,onChange:function(e){var n=e.target.value;m(n),S.current&&clearTimeout(S.current),S.current=setTimeout(function(){E(n)},300)},onFocus:function(){h.length>0&&y(!0)},onBlur:function(){setTimeout(function(){y(!1)},200)},placeholder:"Search for a city...",className:"search-input",autoComplete:"off"}),(0,o.jsx)("div",{className:"search-icon",children:j?(0,o.jsx)("div",{className:"search-spinner"}):(0,o.jsx)("span",{children:"\ud83d\udd0d"})})]})}),k&&h.length>0&&(0,o.jsx)("div",{className:"suggestions-dropdown",children:h.map(function(e,n){return(0,o.jsxs)("div",{className:"suggestion-item",onClick:function(){return T(e)},children:[(0,o.jsx)("div",{className:"suggestion-name",children:e.name}),(0,o.jsxs)("div",{className:"suggestion-details",children:[e.state&&"".concat(e.state,", "),e.country]})]},n)})})]})}}}]);
//# sourceMappingURL=750.1300a527.chunk.js.map