"use strict";(self.webpackChunkweatherpage=self.webpackChunkweatherpage||[]).push([[327],{327:function(e,a,r){r.r(a),r.d(a,{default:function(){return g}});var n=r(43),i=r(379),t=r(544),s=r(861),c=r(461),o=r(529),l=r(909),d=r(579),h=function(e){var a=e.dayIndex,r=(0,c.U3)().weatherData,i=(0,n.useMemo)(function(){return(0,s.DH)(a)},[a]),o=(0,n.useMemo)(function(){if(!r.daily||r.daily.length<=a)return{min:null,max:null,imageIcon:null,forecast:null,precipChance:null,isLoading:r.isLoading,error:r.error};var e=r.daily[a];return{min:e.temp.min,max:e.temp.max,imageIcon:e.weather[0].icon,forecast:e.summary,precipChance:Math.round(100*e.pop),isLoading:!1,error:null}},[r,a]),h=(0,n.useMemo)(function(){return o.error?"<div>Error loading forecast</div>":"<div>".concat(i,":</div><div>").concat(o.forecast||"Loading forecast...","</div>").concat(null!==o.precipChance?"<div>Rain: ".concat(o.precipChance,"%</div>"):"")},[i,o.forecast,o.precipChance,o.error]),m=o.max,u=o.min,x=o.imageIcon,g=o.precipChance,p=o.isLoading,j=o.error;return p&&!x?(0,d.jsx)("div",{className:"weather-day-container",children:(0,d.jsx)(l.A,{size:"small",message:"",className:"weather-day-loading"})}):j&&!x?(0,d.jsx)("div",{className:"weather-day-container",children:(0,d.jsxs)("div",{className:"weather-day-error",children:[(0,d.jsx)("span",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,d.jsx)("span",{className:"error-text",children:"Error"})]})}):(0,d.jsxs)("div",{"data-tooltip-id":"weather-tooltip","data-tooltip-html":h,"data-tooltip-place":"middle",className:"weather-day-container",children:[(0,d.jsx)(t.m_,{id:"weather-tooltip",border:"1px solid #222",style:{backgroundColor:"rgb(0, 255, 30)",color:"#222",padding:"10px",borderRadius:"5px",textAlign:"center",maxWidth:"150px"},noArrow:!0}),x&&(0,d.jsx)("img",{className:"day-pane",src:"https://openweathermap.org/img/wn/".concat(x,".png"),alt:"Weather forecast for ".concat(0===a?"today":i),"aria-label":"Weather forecast for ".concat(0===a?"today":i)}),(0,d.jsxs)("div",{className:"temp-row",children:[(0,d.jsxs)("h5",{className:"black_text",children:[(0,s.Zj)(m),"\xb0"]}),(0,d.jsxs)("h5",{className:"light-grey_text",children:[(0,s.Zj)(u),"\xb0"]})]}),null!==g&&(0,d.jsxs)("div",{className:"precipitation",children:[(0,d.jsx)("span",{className:"rain-icon",children:"\ud83d\udca7"}),(0,d.jsxs)("span",{className:"rain-chance",children:[g,"%"]})]})]})},m=function(e){return(0,d.jsx)(o.A,{fallback:(0,d.jsx)("div",{className:"weather-error",children:"Something went wrong"}),children:(0,d.jsx)(h,(0,i.A)({},e))})},u=r(73),x=function(){var e=(0,c.U3)(),a=e.coordinates,r=e.weatherData,i=(0,n.useMemo)(function(){return Array.from({length:5},function(e,a){return(0,s.Sq)(a)})},[]);return r.isLoading&&!r.daily.length?(0,d.jsx)(l.A,{size:"large",message:"Loading weather data...",className:"weather-loading"}):r.error&&!r.daily.length?(0,d.jsx)(u.A,{title:"Weather Data Unavailable",message:"Unable to load weather information: ".concat(r.error),type:"error",className:"weather-error"}):null===a.latitude?(0,d.jsx)(l.A,{size:"medium",message:"Waiting for location data...",className:"location-loading"}):(0,d.jsx)("div",{className:"container",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsxs)("div",{className:"day grey",children:[(0,d.jsx)("h5",{className:"grey_text",children:"Today"}),(0,d.jsx)(m,{dayIndex:0})]}),(0,d.jsxs)("div",{className:"day",children:[(0,d.jsx)("h5",{children:i[1]}),(0,d.jsx)(m,{dayIndex:1})]}),(0,d.jsxs)("div",{className:"day",children:[(0,d.jsx)("h5",{children:i[2]}),(0,d.jsx)(m,{dayIndex:2})]}),(0,d.jsxs)("div",{className:"day",children:[(0,d.jsx)("h5",{children:i[3]}),(0,d.jsx)(m,{dayIndex:3})]}),(0,d.jsxs)("div",{className:"day",children:[(0,d.jsx)("h5",{children:i[4]}),(0,d.jsx)(m,{dayIndex:4})]})]})})},g=function(){return(0,d.jsx)(o.A,{fallback:(0,d.jsx)("div",{className:"error-container",children:(0,d.jsx)("h3",{children:"Something went wrong with the weather panel"})}),children:(0,d.jsx)(x,{})})}},861:function(e,a,r){r.d(a,{DH:function(){return i},Sq:function(){return t},Zj:function(){return n}});var n=function(e){return null!==e&&void 0!==e?Math.round(1.8*(e-273.15)+32):null},i=function(e){return new Date((new Date).getTime()+24*e*60*60*1e3).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})},t=function(e){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][((new Date).getDay()+e)%7]}}}]);
//# sourceMappingURL=327.77ec2890.chunk.js.map